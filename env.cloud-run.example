# =============================================================================
# Open WebUI Cloud Run Deployment - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED: Database Configuration (Supabase)
# =============================================================================

# Option 1: Use DATABASE_URL (recommended)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# Option 2: Use individual database variables (alternative)
# DATABASE_TYPE=postgresql
# DATABASE_USER=postgres
# DATABASE_PASSWORD=[YOUR-PASSWORD]
# DATABASE_HOST=db.[YOUR-PROJECT-REF].supabase.co
# DATABASE_PORT=5432
# DATABASE_NAME=postgres

# Database Connection Pooling (recommended for production)
DATABASE_POOL_SIZE=10
DATABASE_POOL_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# REQUIRED: OpenAI API Configuration
# =============================================================================

# Your OpenAI API key
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI API base URL (default: https://api.openai.com/v1)
# You can also use other OpenAI-compatible APIs like:
# - https://api.groq.com/openai/v1 (Groq)
# - https://api.mistral.ai/v1 (Mistral)
# - https://api.perplexity.ai (Perplexity)
OPENAI_API_BASE_URL=https://api.openai.com/v1

# =============================================================================
# REQUIRED: Security Configuration
# =============================================================================

# Secret key for JWT tokens and session management
# Generate a secure random key: openssl rand -hex 32
WEBUI_SECRET_KEY=your-secret-key-here

# =============================================================================
# OPTIONAL: WebUI Configuration
# =============================================================================

# Your application URL (for OAuth callbacks, etc.)
WEBUI_URL=https://your-app-name-xyz-uc.a.run.app

# Application name
WEBUI_NAME=Open WebUI

# Enable/disable user signup
ENABLE_SIGNUP=true

# =============================================================================
# OPTIONAL: Redis Configuration (for session management)
# =============================================================================

# Redis URL for session storage (optional, but recommended for production)
# If not provided, sessions will be stored in memory
REDIS_URL=redis://your-redis-host:6379

# =============================================================================
# OPTIONAL: Image Generation Configuration
# =============================================================================

# OpenAI API key for image generation (can be same as OPENAI_API_KEY)
IMAGES_OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI API base URL for image generation
IMAGES_OPENAI_API_BASE_URL=https://api.openai.com/v1

# =============================================================================
# OPTIONAL: Audio Configuration
# =============================================================================

# Whisper model for speech-to-text (base, small, medium, large)
WHISPER_MODEL=base

# Deepgram API key for alternative speech-to-text
DEEPGRAM_API_KEY=your-deepgram-api-key

# =============================================================================
# OPTIONAL: RAG (Retrieval Augmented Generation) Configuration
# =============================================================================

# Embedding model for RAG
RAG_EMBEDDING_MODEL=all-MiniLM-L6-v2

# Reranking model for RAG
RAG_RERANKING_MODEL=ms-marco-MiniLM-L-12-v2

# Vector database URL (can use same as DATABASE_URL if Supabase has pgvector)
PGVECTOR_DB_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# =============================================================================
# OPTIONAL: Performance and Caching
# =============================================================================

# Enable base models cache
ENABLE_BASE_MODELS_CACHE=true

# Enable real-time chat save
ENABLE_REALTIME_CHAT_SAVE=true

# =============================================================================
# OPTIONAL: Logging and Monitoring
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
GLOBAL_LOG_LEVEL=INFO

# =============================================================================
# CLOUD RUN SPECIFIC
# =============================================================================

# Number of uvicorn workers (keep at 1 for Cloud Run)
UVICORN_WORKERS=1

# =============================================================================
# PRIVACY AND TELEMETRY (RECOMMENDED SETTINGS)
# =============================================================================

# Disable analytics and telemetry
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false 